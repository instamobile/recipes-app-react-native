{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _WebView = require(\"./WebView\");\n\nvar _constants = require(\"./constants\");\n\nvar _events = require(\"events\");\n\nvar _PlayerScripts = require(\"./PlayerScripts\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/ananthukanive/side-proj/react-native-youtube-iframe/src/YoutubeIframe.js\";\n\nvar YoutubeIframe = function YoutubeIframe(props, ref) {\n  var height = props.height,\n      width = props.width,\n      videoId = props.videoId,\n      playList = props.playList,\n      _props$play = props.play,\n      play = _props$play === void 0 ? false : _props$play,\n      _props$mute = props.mute,\n      mute = _props$mute === void 0 ? false : _props$mute,\n      _props$volume = props.volume,\n      volume = _props$volume === void 0 ? 100 : _props$volume,\n      webViewStyle = props.webViewStyle,\n      webViewProps = props.webViewProps,\n      useLocalHTML = props.useLocalHTML,\n      baseUrlOverride = props.baseUrlOverride,\n      _props$playbackRate = props.playbackRate,\n      playbackRate = _props$playbackRate === void 0 ? 1 : _props$playbackRate,\n      _props$contentScale = props.contentScale,\n      contentScale = _props$contentScale === void 0 ? 1.0 : _props$contentScale,\n      _props$onError = props.onError,\n      onError = _props$onError === void 0 ? function (_err) {} : _props$onError,\n      _props$onReady = props.onReady,\n      onReady = _props$onReady === void 0 ? function (_event) {} : _props$onReady,\n      _props$playListStartI = props.playListStartIndex,\n      playListStartIndex = _props$playListStartI === void 0 ? 0 : _props$playListStartI,\n      _props$initialPlayerP = props.initialPlayerParams,\n      initialPlayerParams = _props$initialPlayerP === void 0 ? {} : _props$initialPlayerP,\n      _props$allowWebViewZo = props.allowWebViewZoom,\n      allowWebViewZoom = _props$allowWebViewZo === void 0 ? false : _props$allowWebViewZo,\n      _props$forceAndroidAu = props.forceAndroidAutoplay,\n      forceAndroidAutoplay = _props$forceAndroidAu === void 0 ? false : _props$forceAndroidAu,\n      _props$onChangeState = props.onChangeState,\n      onChangeState = _props$onChangeState === void 0 ? function (_event) {} : _props$onChangeState,\n      _props$onFullScreenCh = props.onFullScreenChange,\n      onFullScreenChange = _props$onFullScreenCh === void 0 ? function (_status) {} : _props$onFullScreenCh,\n      _props$onPlaybackQual = props.onPlaybackQualityChange,\n      onPlaybackQualityChange = _props$onPlaybackQual === void 0 ? function (_quality) {} : _props$onPlaybackQual,\n      _props$onPlaybackRate = props.onPlaybackRateChange,\n      onPlaybackRateChange = _props$onPlaybackRate === void 0 ? function (_playbackRate) {} : _props$onPlaybackRate;\n  var webViewRef = (0, _react.useRef)(null);\n  var eventEmitter = (0, _react.useRef)(new _events.EventEmitter());\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      playerReady = _useState2[0],\n      setPlayerReady = _useState2[1];\n\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      getVideoUrl: function getVideoUrl() {\n        webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.getVideoUrlScript);\n        return new Promise(function (resolve) {\n          eventEmitter.current.once('getVideoUrl', resolve);\n        });\n      },\n      getDuration: function getDuration() {\n        webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.durationScript);\n        return new Promise(function (resolve) {\n          eventEmitter.current.once('getDuration', resolve);\n        });\n      },\n      getCurrentTime: function getCurrentTime() {\n        webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.currentTimeScript);\n        return new Promise(function (resolve) {\n          eventEmitter.current.once('getCurrentTime', resolve);\n        });\n      },\n      isMuted: function isMuted() {\n        webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.isMutedScript);\n        return new Promise(function (resolve) {\n          eventEmitter.current.once('isMuted', resolve);\n        });\n      },\n      getVolume: function getVolume() {\n        webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.getVolumeScript);\n        return new Promise(function (resolve) {\n          eventEmitter.current.once('getVolume', resolve);\n        });\n      },\n      getPlaybackRate: function getPlaybackRate() {\n        webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.getPlaybackRateScript);\n        return new Promise(function (resolve) {\n          eventEmitter.current.once('getPlaybackRate', resolve);\n        });\n      },\n      getAvailablePlaybackRates: function getAvailablePlaybackRates() {\n        webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.getAvailablePlaybackRatesScript);\n        return new Promise(function (resolve) {\n          eventEmitter.current.once('getAvailablePlaybackRates', resolve);\n        });\n      },\n      seekTo: function seekTo(seconds, allowSeekAhead) {\n        webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.seekToScript(seconds, allowSeekAhead));\n      }\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (!playerReady) {\n      return;\n    }\n\n    [_PlayerScripts.playMode[play], _PlayerScripts.soundMode[mute], _PlayerScripts.PLAYER_FUNCTIONS.setVolume(volume), _PlayerScripts.PLAYER_FUNCTIONS.setPlaybackRate(playbackRate)].forEach(webViewRef.current.injectJavaScript);\n  }, [play, playerReady, mute, volume, playbackRate]);\n  var onWebMessage = (0, _react.useCallback)(function (event) {\n    try {\n      var message = JSON.parse(event.nativeEvent.data);\n\n      switch (message.eventType) {\n        case 'fullScreenChange':\n          onFullScreenChange(message.data);\n          break;\n\n        case 'playerStateChange':\n          onChangeState(_constants.PLAYER_STATES[message.data]);\n          break;\n\n        case 'playerReady':\n          onReady();\n          setPlayerReady(true);\n\n          if (Array.isArray(playList)) {\n            webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.loadPlaylist(playList, playListStartIndex, play));\n          }\n\n          break;\n\n        case 'playerQualityChange':\n          onPlaybackQualityChange(message.data);\n          break;\n\n        case 'playerError':\n          onError(_constants.PLAYER_ERROR[message.data]);\n          break;\n\n        case 'playbackRateChange':\n          onPlaybackRateChange(message.data);\n          break;\n\n        default:\n          eventEmitter.current.emit(message.eventType, message.data);\n          break;\n      }\n    } catch (error) {\n      console.warn(error);\n    }\n  }, [play, onReady, onError, playList, onChangeState, onFullScreenChange, playListStartIndex, onPlaybackRateChange, onPlaybackQualityChange]);\n  var onShouldStartLoadWithRequest = (0, _react.useCallback)(function (request) {\n    try {\n      var url = request.mainDocumentURL || request.url;\n      return url.startsWith(baseUrlOverride || _constants.DEFAULT_BASE_URL);\n    } catch (error) {\n      return true;\n    }\n  }, [baseUrlOverride]);\n  var source = (0, _react.useMemo)(function () {\n    var ytScript = (0, _PlayerScripts.MAIN_SCRIPT)(videoId, playList, initialPlayerParams, allowWebViewZoom, contentScale);\n\n    if (useLocalHTML) {\n      var res = {\n        html: ytScript.htmlString\n      };\n\n      if (baseUrlOverride) {\n        res.baseUrl = baseUrlOverride;\n      }\n\n      return res;\n    }\n\n    var base = baseUrlOverride || _constants.DEFAULT_BASE_URL;\n    var data = ytScript.urlEncodedJSON;\n    return {\n      uri: base + '?data=' + data\n    };\n  }, [videoId, playList, useLocalHTML, contentScale, baseUrlOverride, allowWebViewZoom, initialPlayerParams]);\n  return _react.default.createElement(_reactNative.View, {\n    style: {\n      height: height,\n      width: width\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_WebView.WebView, (0, _extends2.default)({\n    bounces: false,\n    originWhitelist: ['*'],\n    allowsInlineMediaPlayback: true,\n    style: [styles.webView, webViewStyle],\n    mediaPlaybackRequiresUserAction: false,\n    onShouldStartLoadWithRequest: onShouldStartLoadWithRequest,\n    allowsFullscreenVideo: !(initialPlayerParams == null ? void 0 : initialPlayerParams.preventFullScreen),\n    userAgent: forceAndroidAutoplay ? _reactNative.Platform.select({\n      android: _constants.CUSTOM_USER_AGENT,\n      ios: ''\n    }) : ''\n  }, webViewProps, {\n    source: source,\n    ref: webViewRef,\n    onMessage: onWebMessage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  })));\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  webView: {\n    backgroundColor: 'transparent'\n  }\n});\n\nvar _default = (0, _react.forwardRef)(YoutubeIframe);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/learning/Group-Project/node_modules/react-native-youtube-iframe/dist/YoutubeIframe.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","_extends2","_slicedToArray2","_react","_WebView","_constants","_events","_PlayerScripts","_this","_jsxFileName","YoutubeIframe","props","ref","height","width","videoId","playList","_props$play","play","_props$mute","mute","_props$volume","volume","webViewStyle","webViewProps","useLocalHTML","baseUrlOverride","_props$playbackRate","playbackRate","_props$contentScale","contentScale","_props$onError","onError","_err","_props$onReady","onReady","_event","_props$playListStartI","playListStartIndex","_props$initialPlayerP","initialPlayerParams","_props$allowWebViewZo","allowWebViewZoom","_props$forceAndroidAu","forceAndroidAutoplay","_props$onChangeState","onChangeState","_props$onFullScreenCh","onFullScreenChange","_status","_props$onPlaybackQual","onPlaybackQualityChange","_quality","_props$onPlaybackRate","onPlaybackRateChange","_playbackRate","webViewRef","useRef","eventEmitter","EventEmitter","_useState","useState","_useState2","playerReady","setPlayerReady","useImperativeHandle","getVideoUrl","current","injectJavaScript","PLAYER_FUNCTIONS","getVideoUrlScript","Promise","resolve","once","getDuration","durationScript","getCurrentTime","currentTimeScript","isMuted","isMutedScript","getVolume","getVolumeScript","getPlaybackRate","getPlaybackRateScript","getAvailablePlaybackRates","getAvailablePlaybackRatesScript","seekTo","seconds","allowSeekAhead","seekToScript","useEffect","playMode","soundMode","setVolume","setPlaybackRate","forEach","onWebMessage","useCallback","event","message","JSON","parse","nativeEvent","data","eventType","PLAYER_STATES","Array","isArray","loadPlaylist","PLAYER_ERROR","emit","error","console","warn","onShouldStartLoadWithRequest","request","url","mainDocumentURL","startsWith","DEFAULT_BASE_URL","source","useMemo","ytScript","MAIN_SCRIPT","res","html","htmlString","baseUrl","base","urlEncodedJSON","uri","createElement","_reactNative","View","style","__self","__source","fileName","lineNumber","columnNumber","WebView","bounces","originWhitelist","allowsInlineMediaPlayback","styles","webView","mediaPlaybackRequiresUserAction","allowsFullscreenVideo","preventFullScreen","userAgent","Platform","select","android","CUSTOM_USER_AGENT","ios","onMessage","StyleSheet","create","backgroundColor","_default","forwardRef"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _WebView=require(\"./WebView\");var _constants=require(\"./constants\");var _events=require(\"events\");var _PlayerScripts=require(\"./PlayerScripts\");var _this=this,_jsxFileName=\"/Users/ananthukanive/side-proj/react-native-youtube-iframe/src/YoutubeIframe.js\";var YoutubeIframe=function YoutubeIframe(props,ref){var height=props.height,width=props.width,videoId=props.videoId,playList=props.playList,_props$play=props.play,play=_props$play===void 0?false:_props$play,_props$mute=props.mute,mute=_props$mute===void 0?false:_props$mute,_props$volume=props.volume,volume=_props$volume===void 0?100:_props$volume,webViewStyle=props.webViewStyle,webViewProps=props.webViewProps,useLocalHTML=props.useLocalHTML,baseUrlOverride=props.baseUrlOverride,_props$playbackRate=props.playbackRate,playbackRate=_props$playbackRate===void 0?1:_props$playbackRate,_props$contentScale=props.contentScale,contentScale=_props$contentScale===void 0?1.0:_props$contentScale,_props$onError=props.onError,onError=_props$onError===void 0?function(_err){}:_props$onError,_props$onReady=props.onReady,onReady=_props$onReady===void 0?function(_event){}:_props$onReady,_props$playListStartI=props.playListStartIndex,playListStartIndex=_props$playListStartI===void 0?0:_props$playListStartI,_props$initialPlayerP=props.initialPlayerParams,initialPlayerParams=_props$initialPlayerP===void 0?{}:_props$initialPlayerP,_props$allowWebViewZo=props.allowWebViewZoom,allowWebViewZoom=_props$allowWebViewZo===void 0?false:_props$allowWebViewZo,_props$forceAndroidAu=props.forceAndroidAutoplay,forceAndroidAutoplay=_props$forceAndroidAu===void 0?false:_props$forceAndroidAu,_props$onChangeState=props.onChangeState,onChangeState=_props$onChangeState===void 0?function(_event){}:_props$onChangeState,_props$onFullScreenCh=props.onFullScreenChange,onFullScreenChange=_props$onFullScreenCh===void 0?function(_status){}:_props$onFullScreenCh,_props$onPlaybackQual=props.onPlaybackQualityChange,onPlaybackQualityChange=_props$onPlaybackQual===void 0?function(_quality){}:_props$onPlaybackQual,_props$onPlaybackRate=props.onPlaybackRateChange,onPlaybackRateChange=_props$onPlaybackRate===void 0?function(_playbackRate){}:_props$onPlaybackRate;var webViewRef=(0,_react.useRef)(null);var eventEmitter=(0,_react.useRef)(new _events.EventEmitter());var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2.default)(_useState,2),playerReady=_useState2[0],setPlayerReady=_useState2[1];(0,_react.useImperativeHandle)(ref,function(){return{getVideoUrl:function getVideoUrl(){webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.getVideoUrlScript);return new Promise(function(resolve){eventEmitter.current.once('getVideoUrl',resolve);});},getDuration:function getDuration(){webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.durationScript);return new Promise(function(resolve){eventEmitter.current.once('getDuration',resolve);});},getCurrentTime:function getCurrentTime(){webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.currentTimeScript);return new Promise(function(resolve){eventEmitter.current.once('getCurrentTime',resolve);});},isMuted:function isMuted(){webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.isMutedScript);return new Promise(function(resolve){eventEmitter.current.once('isMuted',resolve);});},getVolume:function getVolume(){webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.getVolumeScript);return new Promise(function(resolve){eventEmitter.current.once('getVolume',resolve);});},getPlaybackRate:function getPlaybackRate(){webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.getPlaybackRateScript);return new Promise(function(resolve){eventEmitter.current.once('getPlaybackRate',resolve);});},getAvailablePlaybackRates:function getAvailablePlaybackRates(){webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.getAvailablePlaybackRatesScript);return new Promise(function(resolve){eventEmitter.current.once('getAvailablePlaybackRates',resolve);});},seekTo:function seekTo(seconds,allowSeekAhead){webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.seekToScript(seconds,allowSeekAhead));}};},[]);(0,_react.useEffect)(function(){if(!playerReady){return;}[_PlayerScripts.playMode[play],_PlayerScripts.soundMode[mute],_PlayerScripts.PLAYER_FUNCTIONS.setVolume(volume),_PlayerScripts.PLAYER_FUNCTIONS.setPlaybackRate(playbackRate)].forEach(webViewRef.current.injectJavaScript);},[play,playerReady,mute,volume,playbackRate]);var onWebMessage=(0,_react.useCallback)(function(event){try{var message=JSON.parse(event.nativeEvent.data);switch(message.eventType){case'fullScreenChange':onFullScreenChange(message.data);break;case'playerStateChange':onChangeState(_constants.PLAYER_STATES[message.data]);break;case'playerReady':onReady();setPlayerReady(true);if(Array.isArray(playList)){webViewRef.current.injectJavaScript(_PlayerScripts.PLAYER_FUNCTIONS.loadPlaylist(playList,playListStartIndex,play));}break;case'playerQualityChange':onPlaybackQualityChange(message.data);break;case'playerError':onError(_constants.PLAYER_ERROR[message.data]);break;case'playbackRateChange':onPlaybackRateChange(message.data);break;default:eventEmitter.current.emit(message.eventType,message.data);break;}}catch(error){console.warn(error);}},[play,onReady,onError,playList,onChangeState,onFullScreenChange,playListStartIndex,onPlaybackRateChange,onPlaybackQualityChange]);var onShouldStartLoadWithRequest=(0,_react.useCallback)(function(request){try{var url=request.mainDocumentURL||request.url;return url.startsWith(baseUrlOverride||_constants.DEFAULT_BASE_URL);}catch(error){return true;}},[baseUrlOverride]);var source=(0,_react.useMemo)(function(){var ytScript=(0,_PlayerScripts.MAIN_SCRIPT)(videoId,playList,initialPlayerParams,allowWebViewZoom,contentScale);if(useLocalHTML){var res={html:ytScript.htmlString};if(baseUrlOverride){res.baseUrl=baseUrlOverride;}return res;}var base=baseUrlOverride||_constants.DEFAULT_BASE_URL;var data=ytScript.urlEncodedJSON;return{uri:base+'?data='+data};},[videoId,playList,useLocalHTML,contentScale,baseUrlOverride,allowWebViewZoom,initialPlayerParams]);return _react.default.createElement(_reactNative.View,{style:{height:height,width:width},__self:_this,__source:{fileName:_jsxFileName,lineNumber:229,columnNumber:5}},_react.default.createElement(_WebView.WebView,(0,_extends2.default)({bounces:false,originWhitelist:['*'],allowsInlineMediaPlayback:true,style:[styles.webView,webViewStyle],mediaPlaybackRequiresUserAction:false,onShouldStartLoadWithRequest:onShouldStartLoadWithRequest,allowsFullscreenVideo:!(initialPlayerParams==null?void 0:initialPlayerParams.preventFullScreen),userAgent:forceAndroidAutoplay?_reactNative.Platform.select({android:_constants.CUSTOM_USER_AGENT,ios:''}):''},webViewProps,{source:source,ref:webViewRef,onMessage:onWebMessage,__self:_this,__source:{fileName:_jsxFileName,lineNumber:230,columnNumber:7}})));};var styles=_reactNative.StyleSheet.create({webView:{backgroundColor:'transparent'}});var _default=(0,_react.forwardRef)(YoutubeIframe);exports.default=_default;"]},"metadata":{},"sourceType":"script"}